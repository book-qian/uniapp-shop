{"version":3,"file":"user.js","sources":["../../../../../store/user.js"],"sourcesContent":["export default {\r\n\t// 开启命名空间\r\n\tnamespaced: true,\r\n\r\n\t// 数据\r\n\tstate: () => ({\r\n\t\taddress: JSON.parse(uni.getStorageSync('address') || '{}'),\r\n\t\ttoken: uni.getStorageSync('token') || '',\r\n\t\tuserinfo: JSON.parse(uni.getStorageSync('userinfo') || '{}'),\r\n\t\tredirectInfo: null // 重定向信息对象 { openType,from}\r\n\t}),\r\n\r\n\t// 方法\r\n\tmutations: {\r\n\t\tupdateAddress(state, address) {\r\n\t\t\tstate.address = address\r\n\t\t\tthis.commit('m_user/saveAddressToStorage')\r\n\t\t},\r\n\t\t// 持久化存储地址信息\r\n\t\tsaveAddressToStorage(state) {\r\n\t\t\tuni.setStorageSync('address', JSON.stringify(state.address))\r\n\t\t},\r\n\t\t// 修改用户信息\r\n\t\tupdateUserinfo(state, userinfo) {\r\n\t\t\tstate.userinfo = userinfo\r\n\t\t\tthis.commit('m_user/saveUserinfoToStorage')\r\n\t\t},\r\n\t\t// 持久化存储用户信息\r\n\t\tsaveUserinfoToStorage(state) {\r\n\t\t\tuni.setStorageSync('userinfo', JSON.stringify(state.userinfo))\r\n\t\t},\r\n\t\t//修改token\r\n\t\tupdateToken(state, token) {\r\n\t\t\tstate.token = token\r\n\t\t\tthis.commit('m_user/saveTokenToStorage')\r\n\t\t},\r\n\t\t// 持久化存储token\r\n\t\tsaveTokenToStorage(state) {\r\n\t\t\tuni.setStorageSync('token', state.token)\r\n\t\t},\r\n\t\t// 更新重定向信息\r\n\t\tupdateRedirectInfo(state, redirectInfo) {\r\n\t\t\tstate.redirectInfo = redirectInfo\r\n\t\t\tconsole.log(state.redirectInfo)\r\n\t\t}\r\n\t},\r\n\r\n\t// 数据包装器\r\n\tgetters: {\r\n\t\taddstr(state) {\r\n\t\t\tconst {\r\n\t\t\t\tprovinceName,\r\n\t\t\t\tcityName,\r\n\t\t\t\tcountyName,\r\n\t\t\t\tdetailInfo\r\n\t\t\t} = state.address;\r\n\t\t\tif (!provinceName) return '';\r\n\t\t\treturn `${provinceName}${cityName}${countyName}${detailInfo}`;\r\n\t\t}\r\n\t}\r\n}"],"names":["moduleUser","namespaced","state","address","JSON","parse","uni","getStorageSync","token","index","userinfo","redirectInfo","mutations","updateAddress","this","commit","saveAddressToStorage","setStorageSync","stringify","updateUserinfo","saveUserinfoToStorage","updateToken","saveTokenToStorage","updateRedirectInfo","console","log","getters","addstr","provinceName","cityName","countyName","detailInfo"],"mappings":"oDAAeA,EAAA,CAEdC,YAAY,EAGZC,MAAO,KAAO,CACbC,QAASC,KAAKC,MAAMC,EAAAA,MAAIC,eAAe,YAAc,MACrDC,MAAOF,EAAGG,MAACF,eAAe,UAAY,GACtCG,SAAUN,KAAKC,MAAMC,EAAAA,MAAIC,eAAe,aAAe,MACvDI,aAAc,OAIfC,UAAW,CACVC,cAAcX,EAAOC,GACpBD,EAAMC,QAAUA,EAChBW,KAAKC,OAAO,8BACZ,EAEDC,qBAAqBd,GACpBI,EAAGG,MAACQ,eAAe,UAAWb,KAAKc,UAAUhB,EAAMC,SACnD,EAEDgB,eAAejB,EAAOQ,GACrBR,EAAMQ,SAAWA,EACjBI,KAAKC,OAAO,+BACZ,EAEDK,sBAAsBlB,GACrBI,EAAGG,MAACQ,eAAe,WAAYb,KAAKc,UAAUhB,EAAMQ,UACpD,EAEDW,YAAYnB,EAAOM,GAClBN,EAAMM,MAAQA,EACdM,KAAKC,OAAO,4BACZ,EAEDO,mBAAmBpB,GAClBI,EAAAA,MAAIW,eAAe,QAASf,EAAMM,MAClC,EAEDe,mBAAmBrB,EAAOS,GACzBT,EAAMS,aAAeA,EACba,QAAAC,IAAIvB,EAAMS,aAClB,GAIFe,QAAS,CACRC,OAAOzB,GACA,MAAA0B,aACLA,EAAAC,SACAA,EAAAC,WACAA,EAAAC,WACAA,GACG7B,EAAMC,QACV,OAAKyB,EACE,GAAGA,IAAeC,IAAWC,IAAaC,IADvB,EAE1B"}