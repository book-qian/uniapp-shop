{"version":3,"file":"cart.js","sources":["../../../../../../pages/cart/cart.vue","../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2FydC9jYXJ0LnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"cart-container\" v-if=\"cart.length > 0\">\n\t\t<!-- 收货地址组件 -->\n\t\t<my-address></my-address>\n\t\t<!-- 商品列表标题区域 -->\n\t\t<view class=\"cart-title\">\n\t\t\t<uni-icons type=\"shop\" size=\"18\"></uni-icons>\n\t\t\t<text class=\"cart-title-text\">购物车</text>\n\t\t</view>\n\t\t<!-- 商品列表内容区域 -->\n\t\t<uni-swipe-action>\n\t\t\t<block v-for=\"(goods, i) in cart\" :key=\"i\">\n\t\t\t\t<uni-swipe-action-item :right-options=\"options\" @click=\"swiperItemClickHandler(goods)\">\n\t\t\t\t\t<my-goods :goods=\"goods\" :show-radio=\"true\" :show-num=\"true\" @radio-change=\"radioChangeHandler\" @num-change=\"numChangeHandler\" />\n\t\t\t\t</uni-swipe-action-item>\n\t\t\t</block>\n\t\t</uni-swipe-action>\n\t\t<!-- 结算组件区域 -->\n\t\t<my-settle></my-settle>\n\t</view>\n\t<!--空白购物车区域 -->\n\t<view class=\"empty-cart\" v-else>\n\t\t<uni-icons type=\"cart\" size=\"40\" color=\"#c00000\"></uni-icons>\n\t\t<text class=\"tips-text\">空空如也~</text>\n\t</view>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue';\nimport { onLoad, onShow } from '@dcloudio/uni-app';\nimport { setBarge } from '@/hook/useTabbarBadge.js';\nimport { useStore } from 'vuex';\n\nconst store = useStore();\n// 购物车数据\nconst cart = computed(() => store.state['m_cart'].cart);\n\nconst options = ref([\n\t{\n\t\ttext: '删除',\n\t\tstyle: {\n\t\t\tbackgroundColor: '#C00000'\n\t\t}\n\t}\n]);\n// 更新购物车商品状态\nconst radioChangeHandler = e => store.commit('m_cart/updateGoodsState', e);\n\n// 更新购物车商品数量\nconst numChangeHandler = e => store.commit('m_cart/updateGoodsCount', e);\n\nconst total = computed(() => store.getters['m_cart/total']);\n// 删除购物车商品\nconst swiperItemClickHandler = ({ goods_id }) => {\n\tstore.commit('m_cart/deleteCartGoods', goods_id);\n\t// 更新tarbar数字徽标\n\tuni.setTabBarBadge({\n\t\tindex: 2,\n\t\ttext: total.value + ''\n\t});\n};\n\nonShow(() => {\n\tsetBarge();\n});\n</script>\n\n<style lang=\"scss\">\n.cart-container {\n\tpadding-bottom: 50px;\n}\n.cart-title {\n\theight: 40px;\n\tdisplay: flex;\n\talign-items: center;\n\tpadding-left: 5px;\n\tborder-bottom: 1px solid #efefef;\n\t.cart-title-text {\n\t\tmargin-left: 10px;\n\t}\n}\n.empty-cart {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding-top: 150px;\n\t.empty-img {\n\t\twidth: 90px;\n\t\theight: 90px;\n\t}\n\t.tips-text {\n\t\tfont-size: 12px;\n\t\tcolor: gray;\n\t\tmargin-top: 15px;\n\t}\n}\n</style>\n","import MiniProgramPage from '/Users/yangyongqian/code/uni-shop/pages/cart/cart.vue'\nwx.createPage(MiniProgramPage)"],"names":["store","useStore","cart","computed","state","options","ref","text","style","backgroundColor","radioChangeHandler","e","commit","numChangeHandler","total","getters","onShow","setBarge","goods_id","uni","setTabBarBadge","index","value","wx","createPage","MiniProgramPage"],"mappings":"mwBAiCM,MAAAA,EAAQC,EAAQA,WAEhBC,EAAOC,EAAQA,UAAC,IAAMH,EAAMI,MAAc,OAAEF,OAE5CG,EAAUC,EAAAA,IAAI,CACnB,CACCC,KAAM,KACNC,MAAO,CACNC,gBAAiB,cAKdC,EAAqBC,GAAKX,EAAMY,OAAO,0BAA2BD,GAGlEE,EAAmBF,GAAKX,EAAMY,OAAO,0BAA2BD,GAEhEG,EAAQX,EAAQA,UAAC,IAAMH,EAAMe,QAAQ,yBAW3CC,EAAAA,QAAO,KACNC,EAAAA,oPAV8B,GAAGC,eAC3BlB,EAAAY,OAAO,yBAA0BM,GAEvCC,EAAAA,MAAIC,eAAe,CAClBC,MAAO,EACPd,KAAMO,EAAMQ,MAAQ,IACpB,wIC1DFC,GAAGC,WAAWC"}