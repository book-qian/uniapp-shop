"use strict";const e=require("../../common/vendor.js"),a=require("../../hook/useTabbarBadge.js"),s=require("../../utils/api.js"),t=require("../../utils/config.js");if(require("../../utils/axios.js"),!Array){e.resolveComponent("my-search")()}Math;const r={__name:"home",setup(r){const i=e.ref([]),o=e.ref([]),u=e.ref([]),c=()=>{e.index.navigateTo({url:"/subpkg/search/search"})};return e.onShow((()=>{a.setBarge()})),e.onLoad((()=>{(async()=>{const{data:a}=await s.ajaxGet("/api/public/v1/home/swiperdata"),{meta:t,message:r}=a;if(200!==t.status)return e.index.$showMessage();i.value=r})(),(async()=>{const{data:a}=await s.ajaxGet("/api/public/v1/home/catitems"),{meta:t,message:r}=a;200!==t.status&&e.index.$showMessage(),o.value=r})(),(async()=>{const{data:a}=await s.ajaxGet("/api/public/v1/home/floorData"),{meta:t,message:r}=a;if(200!==t.status)return e.index.$showMessage();r.forEach((e=>{e.product_list.forEach((e=>{e.url=`/subpkg/goods_list/goods_list?${e.navigator_url.split("?")[1]}`}))})),u.value=r})()})),(a,s)=>({a:e.o(c),b:e.f(i.value,((a,s,r)=>({a:`${e.unref(t.BASE_URL)}${a.image_src}`,b:`/subpkg/goods_detail/goods_detail?goods_id=${a.goods_id}`,c:s}))),c:e.f(o.value,((a,s,r)=>({a:`${e.unref(t.BASE_URL)}${a.image_src}`,b:e.t(a.name),c:s,d:e.o((s=>(a=>{"分类"===a.name&&e.index.switchTab({url:"/pages/cate/cate"})})(a)),s)}))),d:e.f(u.value,((a,s,r)=>({a:`${e.unref(t.BASE_URL)}${a.floor_title.image_src}`,b:e.t(a.floor_title.name),c:e.t(a.product_list[0].name),d:`${e.unref(t.BASE_URL)}${a.product_list[0].image_src}`,e:a.product_list[0].image_width+"rpx",f:`${e.unref(t.BASE_URL)}${a.product_list[0].url}`,g:e.f(a.product_list,((a,s,r)=>e.e({a:0!==s},0!==s?{b:e.t(a.name),c:a.image_width+"rpx",d:`${e.unref(t.BASE_URL)}${a.image_src}`,e:a.url}:{},{f:s}))),h:s})))})}};wx.createPage(r);
//# sourceMappingURL=home.js.map
