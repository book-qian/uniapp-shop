"use strict";const e=require("../../common/vendor.js"),a=require("../../hook/useTabbarBadge.js");if(!Array){e.resolveComponent("my-search")()}Math;const t={__name:"home",setup(t){const s=e.ref([]),o=e.ref([]),i=e.ref([]),r=()=>{e.index.navigateTo({url:"/subpkg/search/search"})};return e.onShow((()=>{a.setBarge()})),e.onLoad((()=>{(async()=>{const{data:a}=await e.index.$http.get("/api/public/v1/home/swiperdata"),{meta:t,message:o}=a;if(200!==t.status)return e.index.$showMessage();s.value=o})(),(async()=>{const{data:a}=await e.index.$http.get("/api/public/v1/home/catitems"),{meta:t,message:s}=a;200!==t.status&&e.index.$showMessage(),o.value=s})(),(async()=>{const{data:a}=await e.index.$http.get("/api/public/v1/home/floorData"),{meta:t,message:s}=a;if(200!==t.status)return e.index.$showMessage();s.forEach((e=>{e.product_list.forEach((e=>{e.url=`/subpkg/goods_list/goods_list?${e.navigator_url.split("?")[1]}`}))})),i.value=s})()})),(a,t)=>({a:e.o(r),b:e.f(s.value,((e,a,t)=>({a:e.image_src,b:`/subpkg/goods_detail/goods_detail?goods_id=${e.goods_id}`,c:a}))),c:e.f(o.value,((a,t,s)=>({a:a.image_src,b:t,c:e.o((t=>(a=>{"分类"===a.name&&e.index.switchTab({url:"/pages/cate/cate"})})(a)),t)}))),d:e.f(i.value,((a,t,s)=>({a:a.floor_title.image_src,b:a.product_list[0].image_src,c:a.product_list[0].image_width+"rpx",d:a.product_list[0].url,e:e.f(a.product_list,((a,t,s)=>e.e({a:0!==t},0!==t?{b:a.image_src,c:a.image_width+"rpx",d:a.url}:{},{e:t}))),f:t})))})}};wx.createPage(t);
//# sourceMappingURL=home.js.map
