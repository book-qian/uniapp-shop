"use strict";const e=require("../../common/vendor.js"),a=require("../../hook/useTabbarBadge.js"),t=require("../../utils/api.js"),i=require("../../utils/config.js");if(require("../../utils/axios.js"),!Array){e.resolveComponent("my-search")()}Math;const s={__name:"cate",setup(s){const c=e.ref([]),n=e.ref([]),o=e.ref(0),r=e.ref(0),u=()=>{e.index.navigateTo({url:"/subpkg/search/search"})},l=e.ref(0);return e.onLoad((async()=>{const{windowHeight:a}=await e.index.getSystemInfo();l.value=a-50,(async()=>{const{data:a}=await t.ajaxGet("/api/public/v1/cate/categories"),{meta:i,message:s}=a;200!==i.status&&e.index.$showMessage(),c.value=s,n.value=s[0].children})()})),e.onShow((()=>{a.setBarge()})),(a,t)=>({a:e.o(u),b:e.f(c.value,((a,t,i)=>({a:e.t(a.cat_name),b:e.o((e=>(e=>{o.value=e,n.value=c.value[e].children,r.value=0===r.value?1:0})(t)),t),c:e.n(t===o.value?"active":""),d:t}))),c:l.value+"px",d:e.f(n.value,((a,t,s)=>({a:e.t(a.cat_name),b:e.f(a.children,((a,t,s)=>({a:a.cat_icon.includes("api-hmugo-web.itheima.net")?a.cat_icon:`${e.unref(i.BASE_URL)}${a.cat_icon}`,b:e.t(a.cat_name),c:t,d:e.o((t=>(({cat_id:a})=>{e.index.navigateTo({url:"/subpkg/goods_list/goods_list?cid="+a})})(a)),t)}))),c:t}))),e:r.value,f:l.value+"px"})}};wx.createPage(s);
//# sourceMappingURL=cate.js.map
