"use strict";const e=require("../../common/vendor.js"),a=require("../../hook/useTabbarBadge.js");if(!Array){e.resolveComponent("my-search")()}Math;const t={__name:"cate",setup(t){const s=e.ref([]),n=e.ref([]),c=e.ref(0),o=e.ref(0),r=()=>{e.index.navigateTo({url:"/subpkg/search/search"})},i=e.ref(0);return e.onLoad((async()=>{const{windowHeight:a}=await e.index.getSystemInfo();i.value=a-50,(async()=>{const{data:a}=await e.index.$http.get("/api/public/v1/categories"),{meta:t,message:c}=a;200!==t.status&&e.index.$showMessage(),s.value=c,n.value=c[0].children})()})),e.onShow((()=>{a.setBarge()})),(a,t)=>({a:e.o(r),b:e.f(s.value,((a,t,r)=>({a:e.t(a.cat_name),b:e.o((e=>(e=>{c.value=e,n.value=s.value[e].children,o.value=0===o.value?1:0})(t)),t),c:e.n(t===c.value?"active":""),d:t}))),c:i.value+"px",d:e.f(n.value,((a,t,s)=>({a:e.t(a.cat_name),b:e.f(a.children,((a,t,s)=>({a:a.cat_icon,b:e.t(a.cat_name),c:t,d:e.o((t=>(({cat_id:a})=>{e.index.navigateTo({url:"/subpkg/goods_list/goods_list?cid="+a})})(a)),t)}))),c:t}))),e:o.value,f:i.value+"px"})}};wx.createPage(t);
//# sourceMappingURL=cate.js.map
