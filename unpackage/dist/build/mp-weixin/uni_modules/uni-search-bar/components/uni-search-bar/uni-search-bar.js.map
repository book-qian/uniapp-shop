{"version":3,"file":"uni-search-bar.js","sources":["../../../../../../../../uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar.vue","../../../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/L1VzZXJzL3lhbmd5b25ncWlhbi9jb2RlL3VuaS1zaG9wL3VuaV9tb2R1bGVzL3VuaS1zZWFyY2gtYmFyL2NvbXBvbmVudHMvdW5pLXNlYXJjaC1iYXIvdW5pLXNlYXJjaC1iYXIudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"uni-searchbar\">\r\n\t\t<view :style=\"{ borderRadius: radius + 'px', backgroundColor: bgColor }\" class=\"uni-searchbar__box\" @click=\"searchClick\">\r\n\t\t\t<view class=\"uni-searchbar__box-icon-search\">\r\n\t\t\t\t<slot name=\"searchIcon\"><uni-icons color=\"#c0c4cc\" size=\"18\" type=\"search\" /></slot>\r\n\t\t\t</view>\r\n\t\t\t<input\r\n\t\t\t\tv-if=\"show || searchVal\"\r\n\t\t\t\t:focus=\"showSync\"\r\n\t\t\t\t:disabled=\"readonly\"\r\n\t\t\t\t:placeholder=\"placeholderText\"\r\n\t\t\t\t:maxlength=\"maxlength\"\r\n\t\t\t\tclass=\"uni-searchbar__box-search-input\"\r\n\t\t\t\tconfirm-type=\"search\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tv-model=\"searchVal\"\r\n\t\t\t\t@confirm=\"confirm\"\r\n\t\t\t\t@blur=\"blur\"\r\n\t\t\t\t@focus=\"emitFocus\"\r\n\t\t\t/>\r\n\t\t\t<text v-else class=\"uni-searchbar__text-placeholder\">{{ placeholder }}</text>\r\n\t\t\t<view v-if=\"show && (clearButton === 'always' || (clearButton === 'auto' && searchVal !== '')) && !readonly\" class=\"uni-searchbar__box-icon-clear\" @click=\"clear\">\r\n\t\t\t\t<slot name=\"clearIcon\"><uni-icons color=\"#c0c4cc\" size=\"20\" type=\"clear\" /></slot>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<text @click=\"cancel\" class=\"uni-searchbar__cancel\" v-if=\"cancelButton === 'always' || (show && cancelButton === 'auto')\">{{ cancelTextI18n }}</text>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { initVueI18n } from '@dcloudio/uni-i18n';\r\nimport messages from './i18n/index.js';\r\nconst { t } = initVueI18n(messages);\r\n\r\n/**\r\n * SearchBar 搜索栏\r\n * @description 搜索栏组件，通常用于搜索商品、文章等\r\n * @tutorial https://ext.dcloud.net.cn/plugin?id=866\r\n * @property {Number} radius 搜索栏圆角\r\n * @property {Number} maxlength 输入最大长度\r\n * @property {String} placeholder 搜索栏Placeholder\r\n * @property {String} clearButton = [always|auto|none] 是否显示清除按钮\r\n * \t@value always 一直显示\r\n * \t@value auto 输入框不为空时显示\r\n * \t@value none 一直不显示\r\n * @property {String} cancelButton = [always|auto|none] 是否显示取消按钮\r\n * \t@value always 一直显示\r\n * \t@value auto 输入框不为空时显示\r\n * \t@value none 一直不显示\r\n * @property {String} cancelText 取消按钮的文字\r\n * @property {String} bgColor 输入框背景颜色\r\n * @property {Boolean} focus 是否自动聚焦\r\n * @property {Boolean} readonly 组件只读，不能有任何操作，只做展示\r\n * @event {Function} confirm uniSearchBar 的输入框 confirm 事件，返回参数为uniSearchBar的value，e={value:Number}\r\n * @event {Function} input uniSearchBar 的 value 改变时触发事件，返回参数为uniSearchBar的value，e=value\r\n * @event {Function} cancel 点击取消按钮时触发事件，返回参数为uniSearchBar的value，e={value:Number}\r\n * @event {Function} clear 点击清除按钮时触发事件，返回参数为uniSearchBar的value，e={value:Number}\r\n * @event {Function} blur input失去焦点时触发事件，返回参数为uniSearchBar的value，e={value:Number}\r\n */\r\n\r\nexport default {\r\n\tname: 'UniSearchBar',\r\n\temits: ['input', 'update:modelValue', 'clear', 'cancel', 'confirm', 'blur', 'focus'],\r\n\tprops: {\r\n\t\tplaceholder: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\tradius: {\r\n\t\t\ttype: [Number, String],\r\n\t\t\tdefault: 5\r\n\t\t},\r\n\t\tclearButton: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'auto'\r\n\t\t},\r\n\t\tcancelButton: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'auto'\r\n\t\t},\r\n\t\tcancelText: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '取消'\r\n\t\t},\r\n\t\tbgColor: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '#F8F8F8'\r\n\t\t},\r\n\t\tmaxlength: {\r\n\t\t\ttype: [Number, String],\r\n\t\t\tdefault: 100\r\n\t\t},\r\n\t\tvalue: {\r\n\t\t\ttype: [Number, String],\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\tmodelValue: {\r\n\t\t\ttype: [Number, String],\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\tfocus: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\treadonly: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tshow: true,\r\n\t\t\tshowSync: true,\r\n\t\t\tsearchVal: ''\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tcancelTextI18n() {\r\n\t\t\treturn this.cancelText || t('uni-search-bar.cancel');\r\n\t\t},\r\n\t\tplaceholderText() {\r\n\t\t\treturn this.placeholder || t('uni-search-bar.placeholder');\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\t// #ifndef VUE3\r\n\t\tvalue: {\r\n\t\t\timmediate: true,\r\n\t\t\thandler(newVal) {\r\n\t\t\t\tthis.searchVal = newVal;\r\n\t\t\t\tif (newVal) {\r\n\t\t\t\t\tthis.show = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// #endif\r\n\t\t// #ifdef VUE3\r\n\t\tmodelValue: {\r\n\t\t\timmediate: true,\r\n\t\t\thandler(newVal) {\r\n\t\t\t\tthis.searchVal = newVal;\r\n\t\t\t\tif (newVal) {\r\n\t\t\t\t\tthis.show = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// #endif\r\n\t\tfocus: {\r\n\t\t\timmediate: true,\r\n\t\t\thandler(newVal) {\r\n\t\t\t\tif (newVal) {\r\n\t\t\t\t\tif (this.readonly) return;\r\n\t\t\t\t\tthis.show = true;\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tthis.showSync = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsearchVal(newVal, oldVal) {\r\n\t\t\tthis.$emit('input', newVal);\r\n\t\t\t// #ifdef VUE3\r\n\t\t\tthis.$emit('update:modelValue', newVal);\r\n\t\t\t// #endif\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tsearchClick() {\r\n\t\t\tif (this.readonly) return;\r\n\t\t\tif (this.show) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.show = true;\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.showSync = true;\r\n\t\t\t});\r\n\t\t},\r\n\t\tclear() {\r\n\t\t\tthis.$emit('clear', {\r\n\t\t\t\tvalue: this.searchVal\r\n\t\t\t});\r\n\t\t\tthis.searchVal = '';\r\n\t\t},\r\n\t\tcancel() {\r\n\t\t\tif (this.readonly) return;\r\n\t\t\tthis.$emit('cancel', {\r\n\t\t\t\tvalue: this.searchVal\r\n\t\t\t});\r\n\t\t\tthis.searchVal = '';\r\n\t\t\tthis.show = false;\r\n\t\t\tthis.showSync = false;\r\n\t\t\t// #ifndef APP-PLUS\r\n\t\t\tuni.hideKeyboard();\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tplus.key.hideSoftKeybord();\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\tconfirm() {\r\n\t\t\t// #ifndef APP-PLUS\r\n\t\t\tuni.hideKeyboard();\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tplus.key.hideSoftKeybord();\r\n\t\t\t// #endif\r\n\t\t\tthis.$emit('confirm', {\r\n\t\t\t\tvalue: this.searchVal\r\n\t\t\t});\r\n\t\t},\r\n\t\tblur() {\r\n\t\t\t// #ifndef APP-PLUS\r\n\t\t\tuni.hideKeyboard();\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tplus.key.hideSoftKeybord();\r\n\t\t\t// #endif\r\n\t\t\tthis.$emit('blur', {\r\n\t\t\t\tvalue: this.searchVal\r\n\t\t\t});\r\n\t\t},\r\n\t\temitFocus(e) {\r\n\t\t\tthis.$emit('focus', e.detail);\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n$uni-searchbar-height: 36px;\r\n\r\n.uni-searchbar {\r\n\t/* #ifndef APP-NVUE */\r\n\tdisplay: flex;\r\n\t/* #endif */\r\n\tflex-direction: row;\r\n\tposition: relative;\r\n\tpadding: 10px;\r\n\t// background-color: #fff;\r\n\tbackground-color: #c00000;\r\n}\r\n\r\n.uni-searchbar__box {\r\n\t/* #ifndef APP-NVUE */\r\n\tdisplay: flex;\r\n\tbox-sizing: border-box;\r\n\t/* #endif */\r\n\toverflow: hidden;\r\n\tposition: relative;\r\n\tflex: 1;\r\n\tjustify-content: center;\r\n\tflex-direction: row;\r\n\talign-items: center;\r\n\theight: $uni-searchbar-height;\r\n\tpadding: 5px 8px 5px 0px;\r\n}\r\n\r\n.uni-searchbar__box-icon-search {\r\n\t/* #ifndef APP-NVUE */\r\n\tdisplay: flex;\r\n\t/* #endif */\r\n\tflex-direction: row;\r\n\t// width: 32px;\r\n\tpadding: 0 8px;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tcolor: #b3b3b3;\r\n}\r\n\r\n.uni-searchbar__box-search-input {\r\n\tflex: 1;\r\n\tfont-size: 14px;\r\n\tcolor: #333;\r\n}\r\n\r\n.uni-searchbar__box-icon-clear {\r\n\talign-items: center;\r\n\tline-height: 24px;\r\n\tpadding-left: 8px;\r\n\t/* #ifdef H5 */\r\n\tcursor: pointer;\r\n\t/* #endif */\r\n}\r\n\r\n.uni-searchbar__text-placeholder {\r\n\tfont-size: 14px;\r\n\tcolor: #b3b3b3;\r\n\tmargin-left: 5px;\r\n}\r\n\r\n.uni-searchbar__cancel {\r\n\tpadding-left: 10px;\r\n\tline-height: $uni-searchbar-height;\r\n\tfont-size: 14px;\r\n\tcolor: #333333;\r\n\t/* #ifdef H5 */\r\n\tcursor: pointer;\r\n\t/* #endif */\r\n}\r\n</style>\n","import Component from '/Users/yangyongqian/code/uni-shop/uni_modules/uni-search-bar/components/uni-search-bar/uni-search-bar.vue'\nwx.createComponent(Component)"],"names":["t","initVueI18n","messages","_sfc_main","name","emits","props","placeholder","type","String","default","radius","Number","clearButton","cancelButton","cancelText","bgColor","maxlength","value","modelValue","focus","Boolean","readonly","data","show","showSync","searchVal","computed","cancelTextI18n","this","placeholderText","watch","immediate","handler","newVal","$nextTick","oldVal","$emit","methods","searchClick","clear","cancel","uni","index","hideKeyboard","confirm","blur","emitFocus","e","detail","wx","createComponent","Component"],"mappings":"2FAgCMA,EAAEA,GAAMC,cAAYC,EAAAA,UA4BrBC,EAAU,CACdC,KAAM,eACNC,MAAO,CAAC,QAAS,oBAAqB,QAAS,SAAU,UAAW,OAAQ,SAC5EC,MAAO,CACNC,YAAa,CACZC,KAAMC,OACNC,QAAS,IAEVC,OAAQ,CACPH,KAAM,CAACI,OAAQH,QACfC,QAAS,GAEVG,YAAa,CACZL,KAAMC,OACNC,QAAS,QAEVI,aAAc,CACbN,KAAMC,OACNC,QAAS,QAEVK,WAAY,CACXP,KAAMC,OACNC,QAAS,MAEVM,QAAS,CACRR,KAAMC,OACNC,QAAS,WAEVO,UAAW,CACVT,KAAM,CAACI,OAAQH,QACfC,QAAS,KAEVQ,MAAO,CACNV,KAAM,CAACI,OAAQH,QACfC,QAAS,IAEVS,WAAY,CACXX,KAAM,CAACI,OAAQH,QACfC,QAAS,IAEVU,MAAO,CACNZ,KAAMa,QACNX,SAAS,GAEVY,SAAU,CACTd,KAAMa,QACNX,SAAS,IAGXa,KAAO,KACC,CACNC,MAAM,EACNC,UAAU,EACVC,UAAW,KAGbC,SAAU,CACTC,iBACQ,OAAAC,KAAKd,YAAcf,EAAE,wBAC5B,EACD8B,kBACQ,OAAAD,KAAKtB,aAAeP,EAAE,6BAC9B,GAED+B,MAAO,CAaNZ,WAAY,CACXa,WAAW,EACXC,QAAQC,GACPL,KAAKH,UAAYQ,EACbA,IACHL,KAAKL,MAAO,EAEd,GAGDJ,MAAO,CACNY,WAAW,EACXC,QAAQC,GACP,GAAIA,EAAQ,CACX,GAAIL,KAAKP,SAAU,OACnBO,KAAKL,MAAO,EACZK,KAAKM,WAAU,KACdN,KAAKJ,UAAW,CAAA,GAElB,CACD,GAEDC,UAAUQ,EAAQE,GACZP,KAAAQ,MAAM,QAASH,GAEfL,KAAAQ,MAAM,oBAAqBH,EAEjC,GAEDI,QAAS,CACRC,cACKV,KAAKP,UACLO,KAAKL,OAGTK,KAAKL,MAAO,EACZK,KAAKM,WAAU,KACdN,KAAKJ,UAAW,CAAA,IAEjB,EACDe,QACCX,KAAKQ,MAAM,QAAS,CACnBnB,MAAOW,KAAKH,YAEbG,KAAKH,UAAY,EACjB,EACDe,SACKZ,KAAKP,WACTO,KAAKQ,MAAM,SAAU,CACpBnB,MAAOW,KAAKH,YAEbG,KAAKH,UAAY,GACjBG,KAAKL,MAAO,EACZK,KAAKJ,UAAW,EAEhBiB,EAAGC,MAACC,eAKJ,EACDC,UAECH,EAAGC,MAACC,eAKJf,KAAKQ,MAAM,UAAW,CACrBnB,MAAOW,KAAKH,WAEb,EACDoB,OAECJ,EAAGC,MAACC,eAKJf,KAAKQ,MAAM,OAAQ,CAClBnB,MAAOW,KAAKH,WAEb,EACDqB,UAAUC,GACJnB,KAAAQ,MAAM,QAASW,EAAEC,OACvB,8gCC7NFC,GAAGC,gBAAgBC"}