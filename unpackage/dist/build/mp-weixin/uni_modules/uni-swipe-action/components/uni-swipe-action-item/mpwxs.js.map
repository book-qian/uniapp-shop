{"version":3,"file":"mpwxs.js","sources":["../../../../../../../../uni_modules/uni-swipe-action/components/uni-swipe-action-item/mpwxs.js"],"sourcesContent":["let mpMixins = {}\r\nlet is_pc = null\r\n// #ifdef H5\r\nimport {\r\n\tisPC\r\n} from \"./isPC\"\r\nis_pc = isPC()\r\n// #endif\r\n// #ifdef APP-VUE|| MP-WEIXIN || H5\r\n\r\nmpMixins = {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tis_show: 'none'\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tshow(newVal) {\r\n\t\t\tthis.is_show = this.show\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.swipeaction = this.getSwipeAction()\r\n\t\tif (this.swipeaction.children !== undefined) {\r\n\t\t\tthis.swipeaction.children.push(this)\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.is_show = this.show\r\n\t},\r\n\tmethods: {\r\n\t\t// wxs 中调用\r\n\t\tcloseSwipe(e) {\r\n\t\t\tif (!this.autoClose) return\r\n\t\t\tthis.swipeaction.closeOther(this)\r\n\t\t},\r\n\r\n\t\tchange(e) {\r\n\t\t\tthis.$emit('change', e.open)\r\n\t\t\tif (this.is_show !== e.open) {\r\n\t\t\t\tthis.is_show = e.open\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tappTouchStart(e) {\r\n\t\t\tif (is_pc) return\r\n\t\t\tconst {\r\n\t\t\t\tclientX\r\n\t\t\t} = e.changedTouches[0]\r\n\t\t\tthis.clientX = clientX\r\n\t\t\tthis.timestamp = new Date().getTime()\r\n\t\t},\r\n\t\tappTouchEnd(e, index, item, position) {\r\n\t\t\tif (is_pc) return\r\n\t\t\tconst {\r\n\t\t\t\tclientX\r\n\t\t\t} = e.changedTouches[0]\r\n\t\t\t// fixed by xxxx 模拟点击事件，解决 ios 13 点击区域错位的问题\r\n\t\t\tlet diff = Math.abs(this.clientX - clientX)\r\n\t\t\tlet time = (new Date().getTime()) - this.timestamp\r\n\t\t\tif (diff < 40 && time < 300) {\r\n\t\t\t\tthis.$emit('click', {\r\n\t\t\t\t\tcontent: item,\r\n\t\t\t\t\tindex,\r\n\t\t\t\t\tposition\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tonClickForPC(index, item, position) {\r\n\t\t\tif (!is_pc) return\r\n\t\t\t// #ifdef H5\r\n\t\t\tthis.$emit('click', {\r\n\t\t\t\tcontent: item,\r\n\t\t\t\tindex,\r\n\t\t\t\tposition\r\n\t\t\t})\r\n\t\t\t// #endif\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// #endif\r\nexport default mpMixins\n"],"names":["mpMixins","data","is_show","watch","show","newVal","this","created","swipeaction","getSwipeAction","children","push","mounted","methods","closeSwipe","e","autoClose","closeOther","change","$emit","open","appTouchStart","clientX","changedTouches","timestamp","Date","getTime","appTouchEnd","index","item","position","diff","Math","abs","time","content","onClickForPC","mpwxs"],"mappings":"aAAA,IAAIA,EAAW,CAAE,EAUjBA,EAAW,CACVC,KAAO,KACC,CACNC,QAAS,SAGXC,MAAO,CACNC,KAAKC,GACJC,KAAKJ,QAAUI,KAAKF,IACpB,GAEFG,UACMD,KAAAE,YAAcF,KAAKG,sBACU,IAA9BH,KAAKE,YAAYE,UACfJ,KAAAE,YAAYE,SAASC,KAAKL,KAEhC,EACDM,UACCN,KAAKJ,QAAUI,KAAKF,IACpB,EACDS,QAAS,CAERC,WAAWC,GACLT,KAAKU,WACLV,KAAAE,YAAYS,WAAWX,KAC5B,EAEDY,OAAOH,GACDT,KAAAa,MAAM,SAAUJ,EAAEK,MACnBd,KAAKJ,UAAYa,EAAEK,OACtBd,KAAKJ,QAAUa,EAAEK,KAElB,EAEDC,cAAcN,GAEP,MAAAO,QACLA,GACGP,EAAEQ,eAAe,GACrBjB,KAAKgB,QAAUA,EACfhB,KAAKkB,WAAY,IAAIC,MAAOC,SAC5B,EACDC,YAAYZ,EAAGa,EAAOC,EAAMC,GAErB,MAAAR,QACLA,GACGP,EAAEQ,eAAe,GAErB,IAAIQ,EAAOC,KAAKC,IAAI3B,KAAKgB,QAAUA,GAC/BY,OAAYT,MAAOC,UAAapB,KAAKkB,UACrCO,EAAO,IAAMG,EAAO,KACvB5B,KAAKa,MAAM,QAAS,CACnBgB,QAASN,EACTD,QACAE,YAGF,EACDM,aAAaR,EAAOC,EAAMC,GASzB,IAKH,MAAeO,EAAArC"}