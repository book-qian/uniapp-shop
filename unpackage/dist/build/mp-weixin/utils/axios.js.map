{"version":3,"file":"axios.js","sources":["../../../../../utils/axios.js"],"sourcesContent":["// 导入网络请求的包\r\nimport {\r\n\t$http\r\n} from '@escook/request-miniprogram';\r\n// uni.$axios = $http\r\n// 请求拦截器\r\n$http.beforeRequest = function(options) {\r\n\tuni.showLoading({\r\n\t\ttitle: '数据加载中...'\r\n\t})\r\n\tconst {\r\n\t\turl,\r\n\t\theader\r\n\t} = options\r\n\r\n\t// 为需要登录权限的接口添加token\r\n\tif (url.includes('/my/')) {\r\n\t\toptions.header = {\r\n\t\t\tAuthorization: store.state.m_user.token\r\n\t\t}\r\n\t}\r\n}\r\n// 响应拦截器\r\n$http.afterRequest = function() {\r\n\tuni.hideLoading()\r\n}\r\n\r\n\r\nexport default $http;"],"names":["$http","beforeRequest","options","uni","showLoading","title","url","header","includes","Authorization","store","state","m_user","token","afterRequest","hideLoading"],"mappings":"oDAMAA,EAAAA,MAAMC,cAAgB,SAASC,GAC9BC,EAAAA,MAAIC,YAAY,CACfC,MAAO,aAEF,MAAAC,IACLA,EAAAC,OACAA,GACGL,EAGAI,EAAIE,SAAS,UAChBN,EAAQK,OAAS,CAChBE,cAAeC,MAAMC,MAAMC,OAAOC,OAGrC,EAEAb,EAAKA,MAACc,aAAe,WACpBX,EAAAA,MAAIY,aACL"}