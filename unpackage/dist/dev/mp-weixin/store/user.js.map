{"version":3,"file":"user.js","sources":["../../../../../store/user.js"],"sourcesContent":["export default {\r\n\t// 开启命名空间\r\n\tnamespaced: true,\r\n\r\n\t// 数据\r\n\tstate: () => ({\r\n\t\taddress: JSON.parse(uni.getStorageSync('address') || '{}'),\r\n\t\ttoken: uni.getStorageSync('token') || '',\r\n\t\tuserinfo: JSON.parse(uni.getStorageSync('userinfo') || '{}'),\r\n\t\tredirectInfo: null // 重定向信息对象 { openType,from}\r\n\t}),\r\n\r\n\t// 方法\r\n\tmutations: {\r\n\t\tupdateAddress(state, address) {\r\n\t\t\tstate.address = address\r\n\t\t\tthis.commit('m_user/saveAddressToStorage')\r\n\t\t},\r\n\t\t// 持久化存储地址信息\r\n\t\tsaveAddressToStorage(state) {\r\n\t\t\tuni.setStorageSync('address', JSON.stringify(state.address))\r\n\t\t},\r\n\t\t// 修改用户信息\r\n\t\tupdateUserinfo(state, userinfo) {\r\n\t\t\tstate.userinfo = userinfo\r\n\t\t\tthis.commit('m_user/saveUserinfoToStorage')\r\n\t\t},\r\n\t\t// 持久化存储用户信息\r\n\t\tsaveUserinfoToStorage(state) {\r\n\t\t\tuni.setStorageSync('userinfo', JSON.stringify(state.userinfo))\r\n\t\t},\r\n\t\t//修改token\r\n\t\tupdateToken(state, token) {\r\n\t\t\tstate.token = token\r\n\t\t\tthis.commit('m_user/saveTokenToStorage')\r\n\t\t},\r\n\t\t// 持久化存储token\r\n\t\tsaveTokenToStorage(state) {\r\n\t\t\tuni.setStorageSync('token', state.token)\r\n\t\t},\r\n\t\t// 更新重定向信息\r\n\t\tupdateRedirectInfo(state, redirectInfo) {\r\n\t\t\tstate.redirectInfo = redirectInfo\r\n\t\t\tconsole.log(state.redirectInfo)\r\n\t\t}\r\n\t},\r\n\r\n\t// 数据包装器\r\n\tgetters: {\r\n\t\taddstr(state) {\r\n\t\t\tconst {\r\n\t\t\t\tprovinceName,\r\n\t\t\t\tcityName,\r\n\t\t\t\tcountyName,\r\n\t\t\t\tdetailInfo\r\n\t\t\t} = state.address;\r\n\t\t\tif (!provinceName) return '';\r\n\t\t\treturn `${provinceName}${cityName}${countyName}${detailInfo}`;\r\n\t\t}\r\n\t}\r\n}"],"names":["uni"],"mappings":";;AAAA,MAAe,aAAA;AAAA;AAAA,EAEd,YAAY;AAAA;AAAA,EAGZ,OAAO,OAAO;AAAA,IACb,SAAS,KAAK,MAAMA,cAAAA,MAAI,eAAe,SAAS,KAAK,IAAI;AAAA,IACzD,OAAOA,cAAG,MAAC,eAAe,OAAO,KAAK;AAAA,IACtC,UAAU,KAAK,MAAMA,cAAAA,MAAI,eAAe,UAAU,KAAK,IAAI;AAAA,IAC3D,cAAc;AAAA;AAAA,EAChB;AAAA;AAAA,EAGC,WAAW;AAAA,IACV,cAAc,OAAO,SAAS;AAC7B,YAAM,UAAU;AAChB,WAAK,OAAO,6BAA6B;AAAA,IACzC;AAAA;AAAA,IAED,qBAAqB,OAAO;AAC3BA,oBAAG,MAAC,eAAe,WAAW,KAAK,UAAU,MAAM,OAAO,CAAC;AAAA,IAC3D;AAAA;AAAA,IAED,eAAe,OAAO,UAAU;AAC/B,YAAM,WAAW;AACjB,WAAK,OAAO,8BAA8B;AAAA,IAC1C;AAAA;AAAA,IAED,sBAAsB,OAAO;AAC5BA,oBAAG,MAAC,eAAe,YAAY,KAAK,UAAU,MAAM,QAAQ,CAAC;AAAA,IAC7D;AAAA;AAAA,IAED,YAAY,OAAO,OAAO;AACzB,YAAM,QAAQ;AACd,WAAK,OAAO,2BAA2B;AAAA,IACvC;AAAA;AAAA,IAED,mBAAmB,OAAO;AACzBA,oBAAAA,MAAI,eAAe,SAAS,MAAM,KAAK;AAAA,IACvC;AAAA;AAAA,IAED,mBAAmB,OAAO,cAAc;AACvC,YAAM,eAAe;AACrB,cAAQ,IAAI,MAAM,YAAY;AAAA,IAC9B;AAAA,EACD;AAAA;AAAA,EAGD,SAAS;AAAA,IACR,OAAO,OAAO;AACb,YAAM;AAAA,QACL;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACJ,IAAO,MAAM;AACV,UAAI,CAAC;AAAc,eAAO;AAC1B,aAAO,GAAG,eAAe,WAAW,aAAa;AAAA,IACjD;AAAA,EACD;AACF;;"}