{"version":3,"file":"cart.js","sources":["../../../../../../pages/cart/cart.vue","../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2FydC9jYXJ0LnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"cart-container\" v-if=\"cart.length > 0\">\n\t\t<!-- 商品列表标题区域 -->\n\t\t<view class=\"cart-title\">\n\t\t\t<uni-icons type=\"wallet\" size=\"18\"></uni-icons>\n\t\t\t<text class=\"cart-title-text\">备忘录</text>\n\t\t</view>\n\t\t<!-- 商品列表内容区域 -->\n\t\t<uni-swipe-action>\n\t\t\t<block v-for=\"(goods, i) in cart\" :key=\"i\">\n\t\t\t\t<uni-swipe-action-item :right-options=\"options\" @click=\"swiperItemClickHandler(goods)\">\n\t\t\t\t\t<my-goods :goods=\"goods\" :show-radio=\"true\" :show-num=\"true\" @radio-change=\"radioChangeHandler\" @num-change=\"numChangeHandler\" />\n\t\t\t\t</uni-swipe-action-item>\n\t\t\t</block>\n\t\t</uni-swipe-action>\n\t\t<!-- 结算组件区域 -->\n\t\t<my-settle></my-settle>\n\t</view>\n\t<!--空白购物车区域 -->\n\t<view class=\"empty-cart\" v-else>\n\t\t<uni-icons type=\"cart\" size=\"40\" color=\"#f2ba4b\"></uni-icons>\n\t\t<text class=\"tips-text\">空空如也~</text>\n\t</view>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue';\nimport { onLoad, onShow } from '@dcloudio/uni-app';\nimport { setBarge } from '@/hook/useTabbarBadge.js';\nimport { useStore } from 'vuex';\n\nconst store = useStore();\n// 购物车数据\nconst cart = computed(() => store.state['m_cart'].cart);\n\nconst options = ref([\n\t{\n\t\ttext: '删除',\n\t\tstyle: {\n\t\t\tbackgroundColor: '#C00000'\n\t\t}\n\t}\n]);\n// 更新购物车商品状态\nconst radioChangeHandler = e => store.commit('m_cart/updateGoodsState', e);\n\n// 更新购物车商品数量\nconst numChangeHandler = e => store.commit('m_cart/updateGoodsCount', e);\n\nconst total = computed(() => store.getters['m_cart/total']);\n// 删除购物车商品\nconst swiperItemClickHandler = ({ goods_id }) => {\n\tstore.commit('m_cart/deleteCartGoods', goods_id);\n\t// 更新tarbar数字徽标\n\tuni.setTabBarBadge({\n\t\tindex: 2,\n\t\ttext: total.value + ''\n\t});\n};\n\nonShow(() => {\n\tsetBarge();\n});\n</script>\n\n<style lang=\"scss\">\n.cart-container {\n\tpadding-bottom: 50px;\n}\n.cart-title {\n\theight: 40px;\n\tdisplay: flex;\n\talign-items: center;\n\tpadding-left: 5px;\n\tborder-bottom: 1px solid #efefef;\n\t.cart-title-text {\n\t\tmargin-left: 10px;\n\t}\n}\n.empty-cart {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tpadding-top: 150px;\n\t.empty-img {\n\t\twidth: 90px;\n\t\theight: 90px;\n\t}\n\t.tips-text {\n\t\tfont-size: 12px;\n\t\tcolor: gray;\n\t\tmargin-top: 15px;\n\t}\n}\n</style>\n","import MiniProgramPage from '/Users/yangyongqian/code/uni-shop/pages/cart/cart.vue'\nwx.createPage(MiniProgramPage)"],"names":["useStore","computed","ref","uni","onShow","setBarge"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AA+BA,UAAM,QAAQA,cAAQ,SAAA;AAEtB,UAAM,OAAOC,cAAQ,SAAC,MAAM,MAAM,MAAM,QAAQ,EAAE,IAAI;AAEtD,UAAM,UAAUC,cAAAA,IAAI;AAAA,MACnB;AAAA,QACC,MAAM;AAAA,QACN,OAAO;AAAA,UACN,iBAAiB;AAAA,QACjB;AAAA,MACD;AAAA,IACF,CAAC;AAED,UAAM,qBAAqB,OAAK,MAAM,OAAO,2BAA2B,CAAC;AAGzE,UAAM,mBAAmB,OAAK,MAAM,OAAO,2BAA2B,CAAC;AAEvE,UAAM,QAAQD,cAAQ,SAAC,MAAM,MAAM,QAAQ,cAAc,CAAC;AAE1D,UAAM,yBAAyB,CAAC,EAAE,eAAe;AAChD,YAAM,OAAO,0BAA0B,QAAQ;AAE/CE,oBAAAA,MAAI,eAAe;AAAA,QAClB,OAAO;AAAA,QACP,MAAM,MAAM,QAAQ;AAAA,MACtB,CAAE;AAAA,IACF;AAEAC,kBAAAA,OAAO,MAAM;AACZC,0BAAAA;IACD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7DD,GAAG,WAAW,eAAe;"}